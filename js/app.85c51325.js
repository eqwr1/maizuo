(function(){var t={6700:function(t,e,s){var i={"./af":3906,"./af.js":3906,"./ar":902,"./ar-dz":3853,"./ar-dz.js":3853,"./ar-kw":299,"./ar-kw.js":299,"./ar-ly":6825,"./ar-ly.js":6825,"./ar-ma":6379,"./ar-ma.js":6379,"./ar-sa":7700,"./ar-sa.js":7700,"./ar-tn":2059,"./ar-tn.js":2059,"./ar.js":902,"./az":6043,"./az.js":6043,"./be":7936,"./be.js":7936,"./bg":4078,"./bg.js":4078,"./bm":4014,"./bm.js":4014,"./bn":9554,"./bn-bd":7114,"./bn-bd.js":7114,"./bn.js":9554,"./bo":6529,"./bo.js":6529,"./br":5437,"./br.js":5437,"./bs":9647,"./bs.js":9647,"./ca":9951,"./ca.js":9951,"./cs":6113,"./cs.js":6113,"./cv":7965,"./cv.js":7965,"./cy":5858,"./cy.js":5858,"./da":3515,"./da.js":3515,"./de":2831,"./de-at":6263,"./de-at.js":6263,"./de-ch":1127,"./de-ch.js":1127,"./de.js":2831,"./dv":4510,"./dv.js":4510,"./el":8616,"./el.js":8616,"./en-au":4595,"./en-au.js":4595,"./en-ca":3545,"./en-ca.js":3545,"./en-gb":9609,"./en-gb.js":9609,"./en-ie":3727,"./en-ie.js":3727,"./en-il":3302,"./en-il.js":3302,"./en-in":6305,"./en-in.js":6305,"./en-nz":9128,"./en-nz.js":9128,"./en-sg":4569,"./en-sg.js":4569,"./eo":650,"./eo.js":650,"./es":6358,"./es-do":4214,"./es-do.js":4214,"./es-mx":8639,"./es-mx.js":8639,"./es-us":232,"./es-us.js":232,"./es.js":6358,"./et":7279,"./et.js":7279,"./eu":5515,"./eu.js":5515,"./fa":7981,"./fa.js":7981,"./fi":7090,"./fi.js":7090,"./fil":9208,"./fil.js":9208,"./fo":2799,"./fo.js":2799,"./fr":3463,"./fr-ca":2213,"./fr-ca.js":2213,"./fr-ch":2848,"./fr-ch.js":2848,"./fr.js":3463,"./fy":1468,"./fy.js":1468,"./ga":8163,"./ga.js":8163,"./gd":2898,"./gd.js":2898,"./gl":6312,"./gl.js":6312,"./gom-deva":682,"./gom-deva.js":682,"./gom-latn":9178,"./gom-latn.js":9178,"./gu":5009,"./gu.js":5009,"./he":2795,"./he.js":2795,"./hi":7009,"./hi.js":7009,"./hr":6506,"./hr.js":6506,"./hu":9565,"./hu.js":9565,"./hy-am":3864,"./hy-am.js":3864,"./id":5626,"./id.js":5626,"./is":6649,"./is.js":6649,"./it":151,"./it-ch":5348,"./it-ch.js":5348,"./it.js":151,"./ja":9830,"./ja.js":9830,"./jv":3751,"./jv.js":3751,"./ka":3365,"./ka.js":3365,"./kk":5980,"./kk.js":5980,"./km":9571,"./km.js":9571,"./kn":5880,"./kn.js":5880,"./ko":6809,"./ko.js":6809,"./ku":6773,"./ku.js":6773,"./ky":5505,"./ky.js":5505,"./lb":553,"./lb.js":553,"./lo":1237,"./lo.js":1237,"./lt":1563,"./lt.js":1563,"./lv":1057,"./lv.js":1057,"./me":6495,"./me.js":6495,"./mi":3096,"./mi.js":3096,"./mk":3874,"./mk.js":3874,"./ml":6055,"./ml.js":6055,"./mn":7747,"./mn.js":7747,"./mr":7113,"./mr.js":7113,"./ms":8687,"./ms-my":7948,"./ms-my.js":7948,"./ms.js":8687,"./mt":4532,"./mt.js":4532,"./my":4655,"./my.js":4655,"./nb":6961,"./nb.js":6961,"./ne":2512,"./ne.js":2512,"./nl":8448,"./nl-be":2936,"./nl-be.js":2936,"./nl.js":8448,"./nn":9031,"./nn.js":9031,"./oc-lnc":5174,"./oc-lnc.js":5174,"./pa-in":118,"./pa-in.js":118,"./pl":3448,"./pl.js":3448,"./pt":3518,"./pt-br":2447,"./pt-br.js":2447,"./pt.js":3518,"./ro":817,"./ro.js":817,"./ru":262,"./ru.js":262,"./sd":8990,"./sd.js":8990,"./se":3842,"./se.js":3842,"./si":7711,"./si.js":7711,"./sk":756,"./sk.js":756,"./sl":3772,"./sl.js":3772,"./sq":6187,"./sq.js":6187,"./sr":732,"./sr-cyrl":5713,"./sr-cyrl.js":5713,"./sr.js":732,"./ss":9455,"./ss.js":9455,"./sv":9770,"./sv.js":9770,"./sw":959,"./sw.js":959,"./ta":6459,"./ta.js":6459,"./te":5302,"./te.js":5302,"./tet":7975,"./tet.js":7975,"./tg":1294,"./tg.js":1294,"./th":2385,"./th.js":2385,"./tk":4613,"./tk.js":4613,"./tl-ph":8668,"./tl-ph.js":8668,"./tlh":8190,"./tlh.js":8190,"./tr":4506,"./tr.js":4506,"./tzl":3440,"./tzl.js":3440,"./tzm":9852,"./tzm-latn":2350,"./tzm-latn.js":2350,"./tzm.js":9852,"./ug-cn":730,"./ug-cn.js":730,"./uk":99,"./uk.js":99,"./ur":2100,"./ur.js":2100,"./uz":6002,"./uz-latn":6322,"./uz-latn.js":6322,"./uz.js":6002,"./vi":4207,"./vi.js":4207,"./x-pseudo":4674,"./x-pseudo.js":4674,"./yo":570,"./yo.js":570,"./zh-cn":3644,"./zh-cn.js":3644,"./zh-hk":2591,"./zh-hk.js":2591,"./zh-mo":9503,"./zh-mo.js":9503,"./zh-tw":8080,"./zh-tw.js":8080};function a(t){var e=n(t);return s(e)}function n(t){if(!s.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}a.keys=function(){return Object.keys(i)},a.resolve=n,t.exports=a,a.id=6700},9136:function(t,e,s){"use strict";var i=s(6369),a=function(){var t=this,e=t._self._c;return e("div",[e("tab-bar",{directives:[{name:"show",rawName:"v-show",value:t.$store.state.isTabarShow,expression:"$store.state.isTabarShow"}]}),e("router-view")],1)},n=[],r=function(){var t=this,e=t._self._c;return e("footer",[e("ul",[e("router-link",{attrs:{to:"/films",custom:""},scopedSlots:t._u([{key:"default",fn:function({navigate:s,isActive:i}){return[e("li",{class:i?"xuactive":"",on:{click:s}},[e("i",{staticClass:"iconfont icon-dianying"}),e("span",[t._v("电影")])])]}}])}),e("router-link",{attrs:{to:"/cinemas",custom:""},scopedSlots:t._u([{key:"default",fn:function({navigate:s,isActive:i}){return[e("li",{class:i?"xuactive":"",on:{click:s}},[e("i",{staticClass:"iconfont icon-yingyuan"}),e("span",[t._v("影院")])])]}}])}),e("router-link",{attrs:{to:"/center",custom:""},scopedSlots:t._u([{key:"default",fn:function({navigate:s,isActive:i}){return[e("li",{class:i?"xuactive":"",on:{click:s}},[e("i",{staticClass:"iconfont icon-shouye"}),e("span",[t._v("我的")])])]}}])})],1)])},o=[],l={},c=l,d=s(1001),u=(0,d.Z)(c,r,o,!1,null,"0aff0d26",null),m=u.exports,h=s(2474);s(5110);i.ZP.use(h.ZP);var f={data(){return{}},components:{TabBar:m}},p=f,v=(0,d.Z)(p,a,n,!1,null,null,null),g=v.exports,y=s(2631),j=function(){var t=this,e=t._self._c;return e("div",[e("film-header",{staticClass:"sticky"}),e("section",[e("router-view")],1)],1)},k=[],b=function(){var t=this,e=t._self._c;return e("ul",[e("router-link",{attrs:{to:"/films/nowplaying",custom:""},scopedSlots:t._u([{key:"default",fn:function({navigate:s,isActive:i}){return[e("li",{on:{click:s}},[e("span",{class:i?"xuactive":""},[t._v("正在热映")])])]}}])}),e("router-link",{attrs:{to:"/films/comingsoon",custom:""},scopedSlots:t._u([{key:"default",fn:function({navigate:s,isActive:i}){return[e("li",{on:{click:s}},[e("span",{class:i?"xuactive":""},[t._v("即将上映")])])]}}])})],1)},w=[],C={},_=C,x=(0,d.Z)(_,b,w,!1,null,"7ba662e9",null),A=x.exports,I={data(){return{datalist:[]}},mounted(){this.$store.commit("show")},components:{filmHeader:A}},S=I,P=(0,d.Z)(S,j,k,!1,null,"47368660",null),D=P.exports,z=function(){var t=this,e=t._self._c;return e("div",[e("van-list",{attrs:{finished:t.finished,"finished-text":"到底啦","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.datalist,(function(s){return e("van-cell",{key:s.filmId,on:{click:function(e){return t.handleChangePage(s.filmId)}}},[e("img",{attrs:{src:s.poster}}),e("div",{staticClass:"text"},[e("div",{staticClass:"title"},[t._v(t._s(s.name))]),e("div",{staticClass:"content"},[e("div",{class:s.grade?"":"hidden"},[t._v("观众评分"),e("span",{staticStyle:{color:"orange"}},[t._v(" "+t._s(s.grade))])]),e("div",{staticClass:"actors"},[t._v(" "+t._s(t._f("actorsFilter")(s.actors))+" ")]),e("div",{},[t._v(" "+t._s(s.nation)+"|"+t._s(s.runtime)+"分钟 ")])])]),e("button",{directives:[{name:"show",rawName:"v-show",value:s.isPresale,expression:"data.isPresale"}],staticClass:"button",on:{click:function(e){return t.handleButton(s)}}},[t._v("购票")])])})),1)],1)},B=[],Y=(s(7658),s(6265)),Z=s.n(Y),L=s(8848);const N=Z().create({baseURL:"https://m.maizuo.com",timeout:1e4,headers:{"X-Client-Info":'{"a":"3000","ch":"1002","v":"5.2.0","e":"16558103091758449805295617","bc":"310100"}'}});N.interceptors.request.use((function(t){return L.Z.loading({message:"加载中...",forbidClick:!0,duration:0}),t}),(function(t){return L.Z.fail("加载失败"),Promise.reject(t)})),N.interceptors.response.use((function(t){return L.Z.clear(),t}),(function(t){return L.Z.clear(),Promise.reject(t)}));var F=N;i.ZP.filter("actorsFilter",(t=>void 0===t?"暂无主演":"主演："+t.map((t=>t.name)).join(" ")));var E={data(){return{datalist:[],loading:!1,finished:!1,current:1,total:0}},mounted(){F({url:`/gateway?cityId=${this.$store.state.cityId}&pageNum=1&pageSize=10&type=1&k=422452`,headers:{"X-Host":"mall.film-ticket.film.list"}}).then((t=>{this.datalist=t.data.data.films,this.total=t.data.data.total}))},methods:{onLoad(){this.current++,F({url:`/gateway?cityId=${this.$store.state.cityId}&pageNum=${this.current}&pageSize=10&type=1&k=422452`,headers:{"X-Host":"mall.film-ticket.film.list"}}).then((t=>{this.datalist=[...this.datalist,...t.data.data.films],this.loading=!1})),this.datalist.length===this.total&&0!==this.total&&(this.finished=!0)},handleChangePage(t){this.$router.push({name:"xuDetail",params:{myid:t}})},handleButton(t){this.$store.commit("changeCinemaName",t.name),this.$router.push({name:"Shop",params:{myid:t.filmId,cinema:t.name}})}}},R=E,M=(0,d.Z)(R,z,B,!1,null,"700a1e4c",null),H=M.exports,K=function(){var t=this,e=t._self._c;return e("div",[e("van-list",{attrs:{finished:t.finished,"finished-text":"到底啦","immediate-check":!1},on:{load:t.onLoad},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},t._l(t.datalist,(function(s){return e("van-cell",{key:s.filmId,on:{click:function(e){return t.handleChangePage(s.filmId)}}},[e("img",{attrs:{src:s.poster}}),e("div",{staticClass:"text"},[e("div",{staticClass:"title"},[t._v(t._s(s.name))]),e("div",{staticClass:"content"},[e("div",{staticClass:"actors"},[t._v(" 主演："+t._s(t._f("actorsFilter")(s.actors))+" ")]),e("div",{},[t._v(" 上映日期："+t._s(t.computedDate(s.premiereAt))+" ")])])]),e("button",{directives:[{name:"show",rawName:"v-show",value:s.isPresale,expression:"data.isPresale"}],staticClass:"button",on:{click:function(e){return t.handleButton(s)}}},[t._v("预购")])])})),1)],1)},G=[],X=s(6797),W=s.n(X),O={data(){return{datalist:[],total:0,current:1,loading:!1,finished:!1,isPresale:!0}},mounted(){F({url:`/gateway?cityId=${this.$store.state.cityId}&pageNum=1&pageSize=10&type=2&k=9146778`,headers:{"X-Host":"mall.film-ticket.film.list"}}).then((t=>{this.datalist=t.data.data.films,this.total=t.data.data.total}))},methods:{onLoad(){this.current++,F({url:`/gateway?cityId=${this.$store.state.cityId}&pageNum=${this.current}&pageSize=10&type=2&k=9146778`,headers:{"X-Host":"mall.film-ticket.film.list"}}).then((t=>{this.datalist=[...this.datalist,...t.data.data.films],this.loading=!1})),this.datalist.length===this.total&&0!==this.total&&(this.finished=!0)},handleChangePage(t){this.$router.push({name:"xuDetail",params:{myid:t}})},handleButton(t){this.$store.commit("changeCinemaName",t.name),this.$router.push({name:"Shop",params:{myid:t.filmId,cinema:t.name}})},computedDate(t){return W()(1e3*t).format("dddd MM月DD日")}}},Q=O,U=(0,d.Z)(Q,K,G,!1,null,"cd81f3f2",null),T=U.exports,$=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:"影院"},on:{"click-left":t.handleClickLeft,"click-right":t.handleClickRight},scopedSlots:t._u([{key:"left",fn:function(){return[t._v(" "+t._s(t.$store.state.cityName)),e("van-icon",{attrs:{name:"arrow-down",size:"12",color:"black"}})]},proxy:!0},{key:"right",fn:function(){return[e("van-icon",{attrs:{name:"search",size:"24",color:"black"}})]},proxy:!0}])}),e("div",{staticClass:"box",style:{height:t.height}},[e("ul",t._l(t.$store.state.cinemaList,(function(s){return e("li",{key:s.cinemaId},[e("div",{staticClass:"left"},[e("div",{staticClass:"cinema_name"},[t._v(t._s(s.name))]),e("div",{staticClass:"cinema_text"},[t._v(t._s(s.address))])]),e("div",{staticClass:"right cinema_price"},[t._v(" ￥"),e("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(s.lowPrice/100)+" ")]),t._v("起")])])})),0)])],1)},q=[],J=s(5031),V={data(){return{height:"0px"}},mounted(){this.$store.commit("show"),this.height=document.documentElement.clientHeight-document.querySelector(".van-nav-bar").offsetHeight-document.querySelector("footer").offsetHeight+"px",0===this.$store.state.cinemaList.length?this.$store.dispatch("getCinemaData",this.$store.state.cityId).then((t=>{this.$nextTick((()=>{new J.ZP(".box",{scrollbar:{fade:!0}})}))})):this.$nextTick((()=>{new J.ZP(".box",{scrollbar:{fade:!0}})}))},methods:{handleClickLeft(){this.$router.push("/city"),this.$store.commit("clearCinema")},handleClickRight(){this.$router.push("/cinemas/search"),this.$store.commit("hide")}}},tt=V,et=(0,d.Z)(tt,$,q,!1,null,"acfa07f6",null),st=et.exports,it=function(){var t=this,e=t._self._c;return e("div",[e("form",{attrs:{action:"/"}},[e("van-search",{attrs:{"show-action":"",placeholder:"请输入影院名称"},on:{cancel:t.onCancel},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}})],1),t.value?e("ul",t._l(t.computedList,(function(s){return e("li",{key:s.cinemaId},[e("div",{staticClass:"left"},[e("div",{staticClass:"cinema_name"},[t._v(t._s(s.name))]),e("div",{staticClass:"cinema_text"},[t._v(t._s(s.address))])]),e("div",{staticClass:"right cinema_price"},[t._v(" ￥"),e("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(s.lowPrice/100)+" ")]),t._v("起 ")])])})),0):t._e()])},at=[],nt={data(){return{value:""}},methods:{onCancel(){this.$router.back()}},computed:{computedList(){return this.$store.state.cinemaList.filter((t=>t.name.toUpperCase().includes(this.value.toUpperCase())||t.address.toUpperCase().includes(this.value.toUpperCase())))}},mounted(){0===this.$store.state.cinemaList.length?this.$store.dispatch("getCinemaData",this.$store.state.cityId):console.log("缓存")}},rt=nt,ot=(0,d.Z)(rt,it,at,!1,null,"2050ecf5",null),lt=ot.exports,ct=function(){var t=this,e=t._self._c;return e("div",[t._m(0),e("van-form",{on:{submit:t.onSubmit}},[e("van-field",{attrs:{name:"用户名",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),e("van-field",{attrs:{type:"password",name:"密码",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("div",{staticStyle:{margin:"70px 25px 0"}},[e("van-button",{staticClass:"button",attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("登录")])],1)],1)],1)},dt=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:s(5387),alt:""}})])}];const ut={beforeMount(){this.$store.commit("hide"),console.log("组件初始化",this.$store.state.isTabarShow)},beforeDestroy(){this.$store.commit("show"),console.log("组件销毁",this.$store.state.isTabarShow)}};var mt=ut,ht={mixins:[mt],data(){return{username:"",password:""}},methods:{onSubmit(t){console.log("submit",t)},handleLogin(){setTimeout((()=>{localStorage.setItem("token","后端返回的token字段"),console.log(this.$route.query),this.$router.push(this.$route.query.redirect)}),0)}}},ft=ht,pt=(0,d.Z)(ft,ct,dt,!1,null,"996adcc2",null),vt=pt.exports,gt=function(){var t=this,e=t._self._c;return t.filmInfo?e("div",[e("detail-header",{directives:[{name:"scroll",rawName:"v-scroll",value:50,expression:"50"}]},[t._v(" "+t._s(t.filmInfo.name)+" ")]),e("div",{staticClass:"poster",style:{backgroundImage:"url("+t.filmInfo.poster+")"}}),e("div",{staticClass:"content"},[e("div",{staticClass:"item"},[e("div",{staticClass:"content-name"},[t._v(t._s(t.filmInfo.name))]),e("div",[e("div",{staticClass:"detail-text"},[t._v(t._s(t.filmInfo.category))]),e("div",{staticClass:"detail-text"},[t._v(t._s(t._f("dateFilter")(t.filmInfo.premiereAt))+"上映")]),e("div",{staticClass:"detail-text"},[t._v(t._s(t.filmInfo.nation)+" | "+t._s(t.filmInfo.runtime)+"分钟")]),e("div",{staticClass:"detail-text",class:t.isHidden?"hidden":"",staticStyle:{"line-height":"19px","padding-top":"12px"}},[t._v(" "+t._s(t.filmInfo.synopsis)+" ")]),e("div",{staticStyle:{"text-align":"center"},on:{click:function(e){t.isHidden=!t.isHidden}}},[e("i",{staticClass:"iconfont",class:t.isHidden?"icon-down":"icon-upward",staticStyle:{"font-size":"13px"}})])])]),e("div",{staticClass:"item"},[e("div",{staticStyle:{padding:"15px 15px 15px 0","margin-top":"10px"}},[t._v("演职人员")]),e("detail-swiper",{attrs:{PerView:4,name:"actors"}},t._l(t.filmInfo.actors,(function(s){return e("detail-swiper-item",{key:s.role},[e("div",{staticClass:"avatar",style:{backgroundImage:"url("+s.avatarAddress+")"}}),e("div",{staticStyle:{"text-align":"center","font-size":"12px",color:"#191a1b"}},[t._v(t._s(s.name))]),e("div",{staticStyle:{"text-align":"center","font-size":"10px",color:"#797d82"}},[t._v(t._s(s.role))])])})),1)],1),e("div",{staticClass:"item"},[e("div",{staticStyle:{padding:"15px 15px 15px 0","margin-top":"10px"}},[t._v("剧照")]),e("detail-swiper",{attrs:{PerView:2,name:"photo"}},t._l(t.filmInfo.photos,(function(s,i){return e("detail-swiper-item",{key:i},[e("div",{staticClass:"avatar",style:{backgroundImage:"url("+s+")"},on:{click:function(e){return t.handlePreview(i)}}})])})),1)],1)]),e("van-button",{staticClass:"button",attrs:{type:"primary",size:"large",color:"#ff5f16"},on:{click:t.handleClick}},[t._v("选座购票")])],1):t._e()},yt=[],jt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"swiper",class:t.name},[e("div",{staticClass:"swiper-wrapper"},[t._t("default")],2)])},kt=[],bt=s(9608),wt={props:{PerView:{type:Number,default:1},name:{type:String,default:"Xu"}},mounted(){new bt.Z("."+this.name,{slidesPerView:this.PerView,spaceBetween:10,freeMode:!0})}},Ct=wt,_t=(0,d.Z)(Ct,jt,kt,!1,null,"06906f9c",null),xt=_t.exports,At=function(){var t=this,e=t._self._c;return e("div",{staticClass:"swiper-slide"},[t._t("default")],2)},It=[],St={},Pt=(0,d.Z)(St,At,It,!1,null,null,null),Dt=Pt.exports,zt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"header"},[e("i",{staticClass:"iconfont icon-back",on:{click:t.handleBack}}),t._t("default")],2)},Bt=[],Yt={methods:{handleBack(){this.$router.back()}}},Zt=Yt,Lt=(0,d.Z)(Zt,zt,Bt,!1,null,"28551b7a",null),Nt=Lt.exports,Ft=s(6471);i.ZP.filter("dateFilter",(t=>W()(1e3*t).format("YYYY-MM-DD"))),i.ZP.directive("scroll",{inserted(t,e){t.style.display="none",window.onscroll=()=>{(document.documentElement.scrollTop||document.body.scrollTop)>e.value?t.style.display="block":t.style.display="none"}},unbind(){window.onscroll=null}});var Et={mixins:[mt],data(){return{filmInfo:null,isHidden:!0}},components:{detailSwiper:xt,detailSwiperItem:Dt,detailHeader:Nt},methods:{handleHidden(){this.isHidden=!this.isHidden},handlePreview(t){(0,Ft.Z)({images:this.filmInfo.photos,closeable:!0,closeIconPosition:"top-left",startPosition:t})},handleClick(){this.$router.push("/order")}},created(){F({url:`/gateway?filmId=${this.$route.params.myid}&k=665553`,headers:{"X-Host":"mall.film-ticket.film.info"}}).then((t=>{this.filmInfo=t.data.data.film}))}},Rt=Et,Mt=(0,d.Z)(Rt,gt,yt,!1,null,"2dd1357a",null),Ht=Mt.exports,Kt=function(){var t=this,e=t._self._c;return e("div",[e("van-index-bar",{attrs:{"index-list":t.computedList},on:{select:t.handleSelect}},t._l(t.cityList,(function(s){return e("div",{key:s.type},[e("van-index-anchor",{attrs:{index:s.type}}),t._l(s.list,(function(s){return e("van-cell",{key:s.cityId,attrs:{title:s.name},on:{click:function(e){return t.handleCity(s)}}})}))],2)})),0)],1)},Gt=[],Xt={mixins:[mt],data(){return{cityList:[]}},computed:{computedList(){return this.cityList.map((t=>t.type))}},mounted(){F({url:"/gateway?k=1184087",headers:{"X-Host":"mall.film-ticket.city.list"}}).then((t=>{console.log(t.data.data.cities),this.cityList=this.renderCity(t.data.data.cities)}))},methods:{handleSelect(t){(0,L.Z)(t)},handleCity(t){console.log(t),this.$store.commit("changeCityName",t.name),this.$store.commit("changeCityId",t.cityId),this.$router.back()},renderCity(t){const e=[],s=[];for(let i=65;i<91;i++)s.push(String.fromCharCode(i));return s.forEach((s=>{const i=t.filter((t=>t.pinyin.substring(0,1).toUpperCase()===s));i.length>0&&e.push({type:s,list:i})})),e}}},Wt=Xt,Ot=(0,d.Z)(Wt,Kt,Gt,!1,null,null,null),Qt=Ot.exports,Ut=function(){var t=this,e=t._self._c;return e("div",[e("van-nav-bar",{attrs:{title:t.$store.state.cinemaName},on:{"click-left":t.handleClickLeft,"click-right":t.handleClickRight},scopedSlots:t._u([{key:"left",fn:function(){return[e("i",{staticClass:"iconfont icon-back"})]},proxy:!0},{key:"right",fn:function(){return[e("van-icon",{attrs:{name:"search",size:"24",color:"black"}})]},proxy:!0}])}),e("van-tabs",{attrs:{"title-active-color":"#ff5f16","line-height":"2px","line-width":"79px",border:""},model:{value:t.active,callback:function(e){t.active=e},expression:"active"}},t._l(t.datalist,(function(s){return e("van-tab",{key:s.showDate,attrs:{title:t.handleDate(s.showDate)}},[e("ul",t._l(t.cinemaListFilter(s.cinemaList),(function(s){return e("li",{key:s.cinemaId},[e("div",{staticClass:"left"},[e("div",{staticClass:"cinema_name"},[t._v(t._s(s.name))]),e("div",{staticClass:"cinema_text"},[t._v(t._s(s.address))])]),e("div",{staticClass:"right cinema_price"},[t._v(" ￥"),e("span",{staticStyle:{"font-size":"15px"}},[t._v(t._s(s.lowPrice/100)+" ")]),t._v("起 ")])])})),0)])})),1)],1)},Tt=[];const $t={zhDate(t){return 0===t?"周日":1===t?"周一":2===t?"周二":3===t?"周三":4===t?"周四":5===t?"周五":6===t?"周六":void 0}};var qt=$t,Jt={setup(){const t=(0,i.iH)(0);return{active:t}},data(){return{datalist:[]}},methods:{handleClickLeft(){this.$router.back()},handleClickRight(){this.$router.push("/cinemas/search")},handleDate(t){return qt.zhDate(W()(1e3*t).day()),W()(1e3*t).format("M月DD日")},cinemaListFilter(t){const e=[];return t.forEach((t=>{this.$store.state.cinemaList.forEach((s=>{s.cinemaId===t&&e.push(s)}))})),e}},mounted(){this.$store.commit("hide"),F({url:`/gateway/?filmId=${this.$route.params.myid}&cityId=${this.$store.state.cityId}&k=2450516`,headers:{"X-Host":"mall.film-ticket.cinema.film-show-cinema"}}).then((t=>{this.datalist=t.data.data.showCinemas.sort(((t,e)=>t.showDate-e.showDate))})),0===this.$store.state.cinemaList.length?this.$store.dispatch("getCinemaData",this.$store.state.cityId):console.log("缓存")}},Vt=Jt,te=(0,d.Z)(Vt,Ut,Tt,!1,null,"2ee8671a",null),ee=te.exports;i.ZP.use(y.ZP);const se=[{path:"/films",component:D,children:[{path:"/films/nowplaying",component:H},{path:"/films/comingsoon",component:T},{path:"/films",redirect:"/films/nowplaying"}]},{name:"xuDetail",path:"/detail/:myid",component:Ht},{name:"Shop",path:"/films/:myid/cinemas",component:ee},{path:"/cinemas",component:st},{path:"/cinemas/search",component:lt},{path:"/city",component:Qt},{path:"/center",component:()=>s.e(728).then(s.bind(s,2728))},{path:"/order",component:()=>s.e(875).then(s.bind(s,3875)),meta:{isXuRquest:!0}},{path:"/login",component:vt},{path:"*",redirect:"/films"}],ie=new y.ZP({mode:"history",routes:se});ie.beforeEach(((t,e,s)=>{t.meta.isXuRquest?localStorage.getItem("token")?s():s({path:"/login",query:{redirect:t.fullPath}}):s()}));var ae=ie,ne=s(3822),re=s(2415);i.ZP.use(ne.ZP);var oe=new ne.ZP.Store({plugins:[(0,re.Z)({reducer:t=>({cityId:t.cityId,cityName:t.cityName,cinemaName:t.cinemaName})})],state:{cityId:"310100",cityName:"上海",cinemaList:[],cinemaName:"",isTabarShow:!0},getters:{},mutations:{changeCityName(t,e){t.cityName=e},changeCityId(t,e){t.cityId=e},changeCinemaData(t,e){t.cinemaList=e},changeCinemaName(t,e){t.cinemaName=e},clearCinema(t){t.cinemaList=[]},show(t){t.isTabarShow=!0},hide(t){t.isTabarShow=!1}},actions:{getCinemaData(t,e){return F({url:`/gateway?cityId=${e}&ticketFlag=1&k=1942800`,headers:{"X-Host":"mall.film-ticket.cinema.list"}}).then((e=>{t.commit("changeCinemaData",e.data.data.cinemas)}))}},modules:{}});i.ZP.config.productionTip=!1,new i.ZP({router:ae,store:oe,render:t=>t(g)}).$mount("#app")},5387:function(t){"use strict";t.exports="data:image/png;base64,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"}},e={};function s(i){var a=e[i];if(void 0!==a)return a.exports;var n=e[i]={id:i,loaded:!1,exports:{}};return t[i].call(n.exports,n,n.exports,s),n.loaded=!0,n.exports}s.m=t,function(){var t=[];s.O=function(e,i,a,n){if(!i){var r=1/0;for(d=0;d<t.length;d++){i=t[d][0],a=t[d][1],n=t[d][2];for(var o=!0,l=0;l<i.length;l++)(!1&n||r>=n)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(o=!1,n<r&&(r=n));if(o){t.splice(d--,1);var c=a();void 0!==c&&(e=c)}}return e}n=n||0;for(var d=t.length;d>0&&t[d-1][2]>n;d--)t[d]=t[d-1];t[d]=[i,a,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.f={},s.e=function(t){return Promise.all(Object.keys(s.f).reduce((function(e,i){return s.f[i](t,e),e}),[]))}}(),function(){s.u=function(t){return"js/"+t+"."+{728:"1aaea4c5",875:"23449e0d"}[t]+".js"}}(),function(){s.miniCssF=function(t){return"css/"+t+".318abe36.css"}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={},e="test2008:";s.l=function(i,a,n,r){if(t[i])t[i].push(a);else{var o,l;if(void 0!==n)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==e+n){o=u;break}}o||(l=!0,o=document.createElement("script"),o.charset="utf-8",o.timeout=120,s.nc&&o.setAttribute("nonce",s.nc),o.setAttribute("data-webpack",e+n),o.src=i),t[i]=[a];var m=function(e,s){o.onerror=o.onload=null,clearTimeout(h);var a=t[i];if(delete t[i],o.parentNode&&o.parentNode.removeChild(o),a&&a.forEach((function(t){return t(s)})),e)return e(s)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=m.bind(null,o.onerror),o.onload=m.bind(null,o.onload),l&&document.head.appendChild(o)}}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.nmd=function(t){return t.paths=[],t.children||(t.children=[]),t}}(),function(){s.p="/"}(),function(){if("undefined"!==typeof document){var t=function(t,e,s,i,a){var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var r=function(s){if(n.onerror=n.onload=null,"load"===s.type)i();else{var r=s&&("load"===s.type?"missing":s.type),o=s&&s.target&&s.target.href||e,l=new Error("Loading CSS chunk "+t+" failed.\n("+o+")");l.code="CSS_CHUNK_LOAD_FAILED",l.type=r,l.request=o,n.parentNode&&n.parentNode.removeChild(n),a(l)}};return n.onerror=n.onload=r,n.href=e,s?s.parentNode.insertBefore(n,s.nextSibling):document.head.appendChild(n),n},e=function(t,e){for(var s=document.getElementsByTagName("link"),i=0;i<s.length;i++){var a=s[i],n=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(n===t||n===e))return a}var r=document.getElementsByTagName("style");for(i=0;i<r.length;i++){a=r[i],n=a.getAttribute("data-href");if(n===t||n===e)return a}},i=function(i){return new Promise((function(a,n){var r=s.miniCssF(i),o=s.p+r;if(e(r,o))return a();t(i,o,null,a,n)}))},a={143:0};s.f.miniCss=function(t,e){var s={728:1};a[t]?e.push(a[t]):0!==a[t]&&s[t]&&e.push(a[t]=i(t).then((function(){a[t]=0}),(function(e){throw delete a[t],e})))}}}(),function(){var t={143:0};s.f.j=function(e,i){var a=s.o(t,e)?t[e]:void 0;if(0!==a)if(a)i.push(a[2]);else{var n=new Promise((function(s,i){a=t[e]=[s,i]}));i.push(a[2]=n);var r=s.p+s.u(e),o=new Error,l=function(i){if(s.o(t,e)&&(a=t[e],0!==a&&(t[e]=void 0),a)){var n=i&&("load"===i.type?"missing":i.type),r=i&&i.target&&i.target.src;o.message="Loading chunk "+e+" failed.\n("+n+": "+r+")",o.name="ChunkLoadError",o.type=n,o.request=r,a[1](o)}};s.l(r,l,"chunk-"+e,e)}},s.O.j=function(e){return 0===t[e]};var e=function(e,i){var a,n,r=i[0],o=i[1],l=i[2],c=0;if(r.some((function(e){return 0!==t[e]}))){for(a in o)s.o(o,a)&&(s.m[a]=o[a]);if(l)var d=l(s)}for(e&&e(i);c<r.length;c++)n=r[c],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(d)},i=self["webpackChunktest2008"]=self["webpackChunktest2008"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(9136)}));i=s.O(i)})();
//# sourceMappingURL=app.85c51325.js.map